.nh
.TH "DBBACKUP" "1" "Feb 2026" "dbbackup" "Database Backup Tool"

.SH NAME
dbbackup-install - Install dbbackup as a systemd service


.SH SYNOPSIS
\fBdbbackup install [flags]\fP


.SH DESCRIPTION
Install dbbackup as a systemd service with automatic scheduling.

.PP
This command creates systemd service and timer units for automated database backups.
It supports both single database and cluster backup modes.

.PP
Examples:
  # Interactive installation (will prompt for options)
  sudo dbbackup install

.PP
# Install cluster backup running daily at 2am
  sudo dbbackup install --backup-type cluster --schedule "daily"

.PP
# Install single database backup with custom schedule
  sudo dbbackup install --instance production --backup-type single --schedule "\fI-\fP-* 03:00:00"

.PP
# Install with Prometheus metrics exporter
  sudo dbbackup install --with-metrics --metrics-port 9399

.PP
# Check installation status
  dbbackup install --status

.PP
# Dry-run to see what would be installed
  sudo dbbackup install --dry-run

.PP
Schedule format (OnCalendar):
  daily           - Every day at midnight
  weekly          - Every Monday at midnight
  \fI-\fP-* 02:00:00  - Every day at 2am
  \fI-\fP-* 02,14:00  - Twice daily at 2am and 2pm
  Mon \fI-\fP-* 03:00 - Every Monday at 3am


.SH OPTIONS
\fB--backup-dir\fP="/var/lib/dbbackup/backups"
	Directory for backups

.PP
\fB-t\fP, \fB--backup-type\fP="cluster"
	Backup type: single or cluster

.PP
\fB--config-path\fP="/etc/dbbackup/dbbackup.conf"
	Path to config file

.PP
\fB--dry-run\fP[=false]
	Show what would be installed without making changes

.PP
\fB--group\fP="dbbackup"
	System group for backup user

.PP
\fB-h\fP, \fB--help\fP[=false]
	help for install

.PP
\fB-i\fP, \fB--instance\fP=""
	Instance name (e.g., production, staging)

.PP
\fB--metrics-port\fP=9399
	Prometheus metrics port

.PP
\fB-s\fP, \fB--schedule\fP="daily"
	Backup schedule (OnCalendar format)

.PP
\fB--status\fP[=false]
	Show installation status

.PP
\fB--timeout\fP=3600
	Backup timeout in seconds

.PP
\fB--user\fP="dbbackup"
	System user to run backups

.PP
\fB--with-metrics\fP[=false]
	Install Prometheus metrics exporter


.SH OPTIONS INHERITED FROM PARENT COMMANDS
\fB--allow-root\fP[=false]
	Allow running as root/Administrator

.PP
\fB--auto-detect-cores\fP[=true]
	Auto-detect CPU cores

.PP
\fB--check-resources\fP[=true]
	Check system resource limits

.PP
\fB--compression\fP=6
	Compression level (0-9)

.PP
\fB-c\fP, \fB--config\fP=""
	Path to config file (default: .dbbackup.conf in current directory)

.PP
\fB--cpu-workload\fP="balanced"
	CPU workload type (cpu-intensive|io-intensive|balanced)

.PP
\fB--database\fP="postgres"
	Database name

.PP
\fB-d\fP, \fB--db-type\fP="postgres"
	Database type (postgres|mysql|mariadb)

.PP
\fB--debug\fP[=false]
	Enable debug logging

.PP
\fB--debug-locks\fP[=false]
	Enable detailed lock debugging (captures PostgreSQL lock configuration, Large DB Guard decisions, boost attempts)

.PP
\fB--dump-jobs\fP=8
	Number of parallel dump jobs

.PP
\fB--fallback-tools\fP[=true]
	Fallback to external tools if native engine fails

.PP
\fB--host\fP="localhost"
	Database host

.PP
\fB--insecure\fP[=false]
	Disable SSL (shortcut for --ssl-mode=disable)

.PP
\fB--jobs\fP=16
	Number of parallel jobs

.PP
\fB--max-cores\fP=32
	Maximum CPU cores to use

.PP
\fB--max-retries\fP=3
	Maximum connection retry attempts

.PP
\fB--min-backups\fP=5
	Minimum number of backups to keep

.PP
\fB--native\fP[=true]
	Use pure Go native engines (no external tools)

.PP
\fB--native-debug\fP[=false]
	Enable detailed native engine debugging

.PP
\fB--native-engine\fP[=true]
	Use pure Go native engines (alias for --native)

.PP
\fB--no-color\fP[=false]
	Disable colored output

.PP
\fB--no-config\fP[=false]
	Don't load configuration from .dbbackup.conf

.PP
\fB--no-save-config\fP[=false]
	Don't save configuration after successful operations

.PP
\fB--port\fP=5432
	Database port

.PP
\fB--retention-days\fP=30
	Backup retention period in days (0=disabled)

.PP
\fB--socket\fP=""
	Unix socket path for MySQL/MariaDB (e.g., /var/run/mysqld/mysqld.sock)

.PP
\fB--ssl-mode\fP="prefer"
	SSL mode for connections


.SH SEE ALSO
\fBdbbackup(1)\fP


.SH HISTORY
16-Feb-2026 Auto generated by spf13/cobra
